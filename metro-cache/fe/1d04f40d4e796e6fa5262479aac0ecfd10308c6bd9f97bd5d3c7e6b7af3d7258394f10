{"dependencies":[{"name":"../threads.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":51,"index":66}}],"key":"K4CZCGtE2IjiBjBQzdc2uYfV4CM=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,\"__esModule\",{value:!0}),e.prepareUIRegistry=void 0;var t=r(d[0]);const l={code:\"function reactNativeReanimated_FrameCallbackRegistryUIJs1(){const frameCallbackRegistry={frameCallbackRegistry:new Map(),activeFrameCallbacks:new Set(),previousFrameTimestamp:null,nextCallId:0,runCallbacks:function(callId){var _this=this;const loop=function(timestamp){if(callId!==_this.nextCallId){return;}if(_this.previousFrameTimestamp===null){_this.previousFrameTimestamp=timestamp;}const delta=timestamp-_this.previousFrameTimestamp;_this.activeFrameCallbacks.forEach(function(callbackId){const callbackDetails=_this.frameCallbackRegistry.get(callbackId);const{startTime:startTime}=callbackDetails;if(startTime===null){callbackDetails.startTime=timestamp;callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:null,timeSinceFirstFrame:0});}else{callbackDetails.callback({timestamp:timestamp,timeSincePreviousFrame:delta,timeSinceFirstFrame:timestamp-startTime});}});if(_this.activeFrameCallbacks.size>0){_this.previousFrameTimestamp=timestamp;requestAnimationFrame(loop);}else{_this.previousFrameTimestamp=null;}};if(this.activeFrameCallbacks.size===1&&callId===this.nextCallId){requestAnimationFrame(loop);}},registerFrameCallback:function(callback,callbackId){this.frameCallbackRegistry.set(callbackId,{callback:callback,startTime:null});},unregisterFrameCallback:function(callbackId){this.manageStateFrameCallback(callbackId,false);this.frameCallbackRegistry.delete(callbackId);},manageStateFrameCallback:function(callbackId,state){if(callbackId===-1){return;}if(state){this.activeFrameCallbacks.add(callbackId);this.runCallbacks(this.nextCallId);}else{const callback=this.frameCallbackRegistry.get(callbackId);callback.startTime=null;this.activeFrameCallbacks.delete(callbackId);if(this.activeFrameCallbacks.size===0){this.nextCallId+=1;}}}};global._frameCallbackRegistry=frameCallbackRegistry;}\"};e.prepareUIRegistry=(0,t.runOnUIImmediately)((function(){const t=function(){const t={frameCallbackRegistry:new Map,activeFrameCallbacks:new Set,previousFrameTimestamp:null,nextCallId:0,runCallbacks(t){const l=s=>{if(t!==this.nextCallId)return;null===this.previousFrameTimestamp&&(this.previousFrameTimestamp=s);const c=s-this.previousFrameTimestamp;this.activeFrameCallbacks.forEach(t=>{const l=this.frameCallbackRegistry.get(t),{startTime:n}=l;null===n?(l.startTime=s,l.callback({timestamp:s,timeSincePreviousFrame:null,timeSinceFirstFrame:0})):l.callback({timestamp:s,timeSincePreviousFrame:c,timeSinceFirstFrame:s-n})}),this.activeFrameCallbacks.size>0?(this.previousFrameTimestamp=s,requestAnimationFrame(l)):this.previousFrameTimestamp=null};1===this.activeFrameCallbacks.size&&t===this.nextCallId&&requestAnimationFrame(l)},registerFrameCallback(t,l){this.frameCallbackRegistry.set(l,{callback:t,startTime:null})},unregisterFrameCallback(t){this.manageStateFrameCallback(t,!1),this.frameCallbackRegistry.delete(t)},manageStateFrameCallback(t,l){if(-1!==t)if(l)this.activeFrameCallbacks.add(t),this.runCallbacks(this.nextCallId);else{this.frameCallbackRegistry.get(t).startTime=null,this.activeFrameCallbacks.delete(t),0===this.activeFrameCallbacks.size&&(this.nextCallId+=1)}}};g._frameCallbackRegistry=t};return t.__closure={},t.__workletHash=0xa09b9e52d16,t.__initData=l,t})())});","lineCount":1,"map":[[1,28,1,0],[1,41,1,13,"Object"],[1,48,1,13,"defineProperty"],[1,63,1,13,"e"],[1,65,1,13],[1,79,1,13,"value"],[1,86,1,13],[1,90,1,13,"e"],[1,92,1,13,"prepareUIRegistry"],[1,115,1,13,"undefined"],[1,117,3,0],[1,121,3,0,"_threads"],[1,123,3,0,"r"],[1,125,3,0,"d"],[1,127,3,0],[1,131,3,51],[1,137,3,51,"_worklet_11036889787670_init_data"],[1,139,3,51],[1,140,3,51,"code"],[1,145,3,51],[1,1967,4,30,"e"],[1,1969,4,30,"prepareUIRegistry"],[1,1988,4,33],[1,1990,4,33,"runOnUIImmediately"],[1,2013,4,52],[1,2030,4,52,"reactNativeReanimated_FrameCallbackRegistryUIJs1"],[1,2032,4,52],[1,2043,7,2],[1,2049,7,8,"frameCallbackRegistry"],[1,2051,7,32],[1,2052,8,4,"frameCallbackRegistry"],[1,2074,8,27],[1,2078,8,31,"Map"],[1,2082,9,4,"activeFrameCallbacks"],[1,2103,9,26],[1,2107,9,30,"Set"],[1,2111,10,4,"previousFrameTimestamp"],[1,2134,10,28],[1,2139,11,4,"nextCallId"],[1,2150,11,16],[1,2152,12,4,"runCallbacks"],[1,2165,12,17,"callId"],[1,2168,13,6],[1,2174,13,12,"loop"],[1,2176,13,19,"timestamp"],[1,2180,14,8],[1,2183,14,12,"callId"],[1,2187,14,23,"this"],[1,2192,14,28,"nextCallId"],[1,2203,15,10],[1,2210,17,44],[1,2217,17,12,"this"],[1,2222,17,17,"previousFrameTimestamp"],[1,2247,18,10,"this"],[1,2252,18,15,"previousFrameTimestamp"],[1,2275,18,40,"timestamp"],[1,2278,20,8],[1,2284,20,14,"delta"],[1,2286,20,22,"timestamp"],[1,2288,20,34,"this"],[1,2293,20,39,"previousFrameTimestamp"],[1,2316,21,8,"this"],[1,2321,21,13,"activeFrameCallbacks"],[1,2342,21,34,"forEach"],[1,2350,21,42,"callbackId"],[1,2354,22,10],[1,2360,22,16,"callbackDetails"],[1,2362,22,34,"this"],[1,2367,22,39,"frameCallbackRegistry"],[1,2389,22,61,"get"],[1,2393,22,65,"callbackId"],[1,2397,23,16,"startTime"],[1,2407,24,12,"startTime"],[1,2410,25,14,"callbackDetails"],[1,2412,26,28],[1,2419,26,14,"startTime"],[1,2422,28,12,"callbackDetails"],[1,2424,28,28,"startTime"],[1,2434,28,40,"timestamp"],[1,2436,29,12,"callbackDetails"],[1,2438,29,28,"callback"],[1,2447,29,37],[1,2448,30,14,"timestamp"],[1,2460,31,14,"timeSincePreviousFrame"],[1,2483,31,38],[1,2488,32,14,"timeSinceFirstFrame"],[1,2508,32,35],[1,2513,36,12,"callbackDetails"],[1,2515,36,28,"callback"],[1,2524,36,37],[1,2525,37,14,"timestamp"],[1,2537,38,14,"timeSincePreviousFrame"],[1,2560,38,38,"delta"],[1,2562,39,14,"timeSinceFirstFrame"],[1,2582,39,35,"timestamp"],[1,2584,39,47,"startTime"],[1,2590,43,12,"this"],[1,2595,43,17,"activeFrameCallbacks"],[1,2616,43,38,"size"],[1,2621,43,45],[1,2624,44,10,"this"],[1,2629,44,15,"previousFrameTimestamp"],[1,2652,44,40,"timestamp"],[1,2654,45,10,"requestAnimationFrame"],[1,2676,45,32,"loop"],[1,2680,47,10,"this"],[1,2685,47,15,"previousFrameTimestamp"],[1,2708,47,40],[1,2714,54,45],[1,2718,54,10,"this"],[1,2723,54,15,"activeFrameCallbacks"],[1,2744,54,36,"size"],[1,2750,54,50,"callId"],[1,2754,54,61,"this"],[1,2759,54,66,"nextCallId"],[1,2771,55,8,"requestAnimationFrame"],[1,2793,55,30,"loop"],[1,2795,57,4],[1,2797,58,4,"registerFrameCallback"],[1,2819,58,26,"callback"],[1,2821,58,36,"callbackId"],[1,2824,59,6,"this"],[1,2829,59,11,"frameCallbackRegistry"],[1,2851,59,33,"set"],[1,2855,59,37,"callbackId"],[1,2857,59,49],[1,2858,60,8,"callback"],[1,2869,61,8,"startTime"],[1,2879,61,19],[1,2885,63,4],[1,2887,64,4,"unregisterFrameCallback"],[1,2911,64,28,"callbackId"],[1,2914,65,6,"this"],[1,2919,65,11,"manageStateFrameCallback"],[1,2944,65,36,"callbackId"],[1,2947,65,48],[1,2950,66,6,"this"],[1,2955,66,11,"frameCallbackRegistry"],[1,2977,66,33,"delete"],[1,2984,66,40,"callbackId"],[1,2986,67,4],[1,2988,68,4,"manageStateFrameCallback"],[1,3013,68,29,"callbackId"],[1,3015,68,41,"state"],[1,3018,69,6],[1,3022,69,20],[1,3026,69,10,"callbackId"],[1,3028,72,6],[1,3031,72,10,"state"],[1,3033,73,8,"this"],[1,3038,73,13,"activeFrameCallbacks"],[1,3059,73,34,"add"],[1,3063,73,38,"callbackId"],[1,3066,74,8,"this"],[1,3071,74,13,"runCallbacks"],[1,3084,74,26,"this"],[1,3089,74,31,"nextCallId"],[1,3105,75,13],[1,3106,76,25,"this"],[1,3111,76,30,"frameCallbackRegistry"],[1,3133,76,52,"get"],[1,3137,76,56,"callbackId"],[1,3140,77,17,"startTime"],[1,3150,77,29],[1,3155,78,8,"this"],[1,3160,78,13,"activeFrameCallbacks"],[1,3181,78,34,"delete"],[1,3188,78,41,"callbackId"],[1,3191,79,47],[1,3195,79,12,"this"],[1,3200,79,17,"activeFrameCallbacks"],[1,3221,79,38,"size"],[1,3228,80,10,"this"],[1,3233,80,15,"nextCallId"],[1,3245,80,29],[1,3247,82,6],[1,3248,83,4],[1,3251,85,2,"global"],[1,3253,85,9,"_frameCallbackRegistry"],[1,3276,85,34,"frameCallbackRegistry"],[1,3277,86,0],[1,3279,86,1],[1,3286,86,1,"reactNativeReanimated_FrameCallbackRegistryUIJs1"],[1,3288,86,1,"__closure"],[1,3298,86,1],[1,3301,86,1,"reactNativeReanimated_FrameCallbackRegistryUIJs1"],[1,3303,86,1,"__workletHash"],[1,3317,86,1],[1,3331,86,1,"reactNativeReanimated_FrameCallbackRegistryUIJs1"],[1,3333,86,1,"__initData"],[1,3344,86,1,"_worklet_11036889787670_init_data"],[1,3346,86,1,"reactNativeReanimated_FrameCallbackRegistryUIJs1"],[1,3347,86,1],[1,3349,4,52],[1,3352,86,3],[1,3355]],"functionMap":{"names":["<global>","runOnUIImmediately$argument_0","frameCallbackRegistry.runCallbacks","loop","activeFrameCallbacks.forEach$argument_0","frameCallbackRegistry.registerFrameCallback","frameCallbackRegistry.unregisterFrameCallback","frameCallbackRegistry.manageStateFrameCallback"],"mappings":"AAA;oDCG;ICQ;mBCC;0CCQ;SDqB;ODO;KDQ;IIC;KJK;IKC;KLG;IMC;KNe;CDG"}},"type":"js/module"}]}